{% extends "base.html" %}

{% block content %}
<div class="container">
    <img src="{{ url_for('static', filename='banner-home.png') }}" alt="Cafejojo's Darts Ranking Logo" class="logo">    
    
    <div class="description">
        <p>De website darts.cafejojo.nl is het online platform voor de Caf√©jojo's Darts Ranking. Spelers kunnen zich registreren, meedoen aan wedstrijden en hun voortgang volgen. Het systeem gebruikt een Elo-ranking om prestaties eerlijk te vergelijken, waarbij je punten wint of verliest op basis van je tegenstander en het wedstrijdresultaat. De site biedt een overzicht van ranglijsten, persoonlijke statistieken. Na registratie zal een beheerder de speler goedkeuren en kan je inloggen.</p>
    </div>
    
    <table>
        <tr>
            <th>Rank</th>
            <th>Username</th>
            <th>180's</th>
            <th>Highest Finish</th>
            <th>ELO Rating</th>
        </tr>
        {% for user in users %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.one_eighties or 0 }}</td>
            <td>{{ user.highest_finish or '-' }}</td>
            <td>{{ user.elo }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Last 10 Matches</h2>
    <table>
        <tr>
            <th>Date</th>
            <th>Winner</th>
            <th>Loser</th>
            <th>Winner ELO Gain</th>
            <th>Loser ELO Loss</th>
            <th>Recorded By</th>
        </tr>
        {% for match in matches %}
        <tr>
            <td>{{ match.date_played.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ match.winner.username }}</td>
            <td>{{ match.loser.username }}</td>
            <td>{{ match.winner_elo_gain }}</td>
            <td>{{ match.loser_elo_loss }}</td>
            <td>{{ match.recorder.username if match.recorder else 'N/A' }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

<style>
.description {
    background: #f7f9fb;
    padding: 1.5em;
    margin: 2em 0;
    text-align: left;
}

.description p {
    margin: 0;
    color: #333;
    line-height: 1.6;
    font-size: 1em;
}
</style>
{% endblock %}
